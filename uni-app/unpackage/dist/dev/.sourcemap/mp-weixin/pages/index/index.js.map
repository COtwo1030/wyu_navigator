{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- È°∂ÈÉ®Èù¢ÊùøÔºöÂåÖÂê´TabÂàáÊç¢ÂíåËæìÂÖ•Âå∫Âüü -->\r\n\t\t<view class=\"top-panel\">\r\n\t\t\t<view class=\"nav-bar\">\r\n\t\t\t\t<view class=\"nav-left\">\r\n\t\t\t\t\t<image class=\"logo\" src=\"/static/wyu_logo.png\" mode=\"heightFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nav-center\">\r\n\t\t\t\t\t<text class=\"link\" @click=\"toggleSearchPanel\">‰∫§ÈÄöÂØºËà™</text>\r\n\t\t\t\t\t<text class=\"link\" @click=\"toSummary\">Âú∞ÁÇπÊ±áÊÄª</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nav-right\">\r\n\t\t\t\t\t<view class=\"login-wrap\" @mouseenter=\"onLoginMouseEnter\" @mouseleave=\"onLoginMouseLeave\">\r\n\t\t\t\t\t\t<text class=\"link\" @click.stop=\"onLoginClick\">{{ username || 'ÁôªÂΩï' }}</text>\r\n\t\t\t\t\t\t<view class=\"login-dropdown\" v-if=\"username && dropdownOpen\" @mouseenter=\"onLoginMouseEnter\" @mouseleave=\"onLoginMouseLeave\">\r\n\t\t\t\t\t\t\t<view class=\"dropdown-item\" @click=\"logout\">ÈÄÄÂá∫ÁôªÂΩï</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"route-box\" v-if=\"showRoutePanel\" :style=\"{ left: routeBoxLeft + 'px', top: routeBoxTop + 'px' }\" @touchstart=\"onRouteBoxTouchStart\" @touchmove.stop.prevent=\"onRouteBoxTouchMove\" @touchend=\"onRouteBoxTouchEnd\" @mousedown=\"onRouteBoxMouseDown\">\r\n\t\t\t\t<view class=\"route-title\">\r\n\t\t\t\t\t<text>‰∫§ÈÄöÂØºËà™</text>\r\n\t\t\t\t\t<text class=\"route-close\" @click=\"closePanel\">√ó</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"route-tabs\">\r\n\t\t\t\t\t<text class=\"tab\" :class=\"{active: routeMode==='walking'}\" @click=\"changeMode('walking')\">Ê≠•Ë°å</text>\r\n\t\t\t\t\t<text class=\"tab\" :class=\"{active: routeMode==='driving'}\" @click=\"changeMode('driving')\">È©æËΩ¶</text>\r\n\t\t\t\t\t<text class=\"tab\" :class=\"{active: routeMode==='bicycling'}\" @click=\"changeMode('bicycling')\">È™ëË°å</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"route-rows\">\r\n\t\t\t\t\t<view class=\"swap-col\" @click=\"swapPoints\"><text class=\"arrow\">‚Üë</text><text class=\"arrow\">‚Üì</text></view>\r\n\t\t\t\t\t<view class=\"rows-col\">\r\n\t\t\t\t\t\t<view class=\"route-row\">\r\n\t\t\t\t\t\t\t<text class=\"dot green\"></text>\r\n\t\t\t\t\t\t\t<input class=\"route-input\" v-model=\"startKeyword\" placeholder=\"ËæìÂÖ•Ëµ∑ÁÇπ\" @input=\"onStartInput\" @focus=\"focusedField='start'\" @blur=\"onStartBlur\" />\r\n\t\t\t\t\t\t\t<text class=\"row-clear\" @click=\"clearStart\">√ó</text>\r\n\t\t\t\t\t\t\t<view class=\"suggest-list\" v-if=\"focusedField==='start' && startSuggestions.length\">\r\n\t\t\t\t\t\t\t\t<view class=\"suggest-item\" v-for=\"s in startSuggestions\" :key=\"s.id\" @click=\"selectStartSuggestion(s)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"suggest-icon\">üìç</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"suggest-title\">{{ s.name }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"route-row\">\r\n\t\t\t\t\t\t\t<text class=\"dot blue\"></text>\r\n\t\t\t\t\t\t\t<input class=\"route-input\" v-model=\"endKeyword\" placeholder=\"ËæìÂÖ•ÁªàÁÇπ\" @input=\"onEndInput\" @focus=\"focusedField='end'\" @blur=\"onEndBlur\" />\r\n\t\t\t\t\t\t\t<text class=\"row-clear\" @click=\"clearEnd\">√ó</text>\r\n\t\t\t\t\t\t\t<view class=\"suggest-list\" v-if=\"focusedField==='end' && endSuggestions.length\">\r\n\t\t\t\t\t\t\t\t<view class=\"suggest-item\" v-for=\"s in endSuggestions\" :key=\"s.id\" @click=\"selectEndSuggestion(s)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"suggest-icon\">üìç</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"suggest-title\">{{ s.name }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"route-actions\">\r\n\t\t\t\t\t<button class=\"primary\" @click=\"handleRoutePlan\">ÂºÄÂßãÂØºËà™</button>\r\n\t\t\t\t\t<button class=\"outline\" @click=\"clearRoute\">Ê∏ÖÈô§Ë∑ØÁ∫ø</button>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"summary-box\" v-if=\"showSummaryPanel\" :style=\"{ left: summaryBoxLeft + 'px', top: summaryBoxTop + 'px' }\" @touchstart=\"onSummaryTouchStart\" @touchmove.stop.prevent=\"onSummaryTouchMove\" @touchend=\"onSummaryTouchEnd\" @mousedown=\"onSummaryMouseDown\">\r\n\t\t\t<view class=\"summary-title\">\r\n\t\t\t\t<text>Âú∞ÁÇπÊ±áÊÄª</text>\r\n\t\t\t\t<text class=\"route-close\" @click=\"closeSummary\">√ó</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"summary-tabs\">\r\n\t\t\t\t<text v-for=\"c in summaryCategories\" :key=\"c\" class=\"tab\" :class=\"{active: selectedCategory===c}\" @click=\"selectCategory(c)\">{{ c }}</text>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view class=\"summary-scroll\" scroll-y=\"true\">\r\n\t\t\t\t<view class=\"summary-grid\">\r\n\t\t\t\t\t<view class=\"grid-item\" v-for=\"p in summaryPoints\" :key=\"p.id\" @click=\"openPointCard(p)\">\r\n\t\t\t\t\t\t<image class=\"grid-img\" :src=\"p.img\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text class=\"grid-name\">{{ p.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"point-card\" v-if=\"pointCardVisible\" :style=\"{ left: pointCardLeft + 'px', top: pointCardTop + 'px' }\" @touchstart=\"onPointCardTouchStart\" @touchmove.stop.prevent=\"onPointCardTouchMove\" @touchend=\"onPointCardTouchEnd\" @mousedown=\"onPointCardMouseDown\">\r\n\t\t\t<view class=\"point-card-title\">\r\n\t\t\t\t<text>{{ pointCard.name }}</text>\r\n\t\t\t\t<text class=\"route-close\" @click=\"closePointCard\">√ó</text>\r\n\t\t\t</view>\r\n\t\t\t<image class=\"point-card-img\" :src=\"pointCard.img\" mode=\"aspectFit\" @click=\"previewImage(pointCard.img)\"></image>\r\n\t\t\t<view class=\"point-card-desc\">{{ pointCard.description }}</view>\r\n\t\t\t<view class=\"point-card-actions\">\r\n\t\t\t\t<button class=\"primary\" @click=\"startNavToPoint\">ÂºÄÂßãÂØºËà™</button>\r\n\t\t\t\t<button class=\"outline\" @click=\"setAsEnd\">ËÆæ‰∏∫ÁªàÁÇπ</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view id=\"container\" class=\"map-container\"></view>\r\n\t\t\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet mapInst = null;\r\n\tlet markersInst = null;\r\n\tlet poiMarkersInst = null;\r\n\tlet routeLayerInst = null;\r\n\tlet seMarkersInst = null;\r\n\tlet seLabelsInst = null;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmap: null,\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tresults: [],\r\n\t\t\t\t\r\n\t\t\t\tstartKeyword: '',\r\n\t\t\t\tendKeyword: '',\r\n\t\t\t\t\r\n\t\t\t\tsearchService: null,\r\n\t\t\t\tmarkers: null,\r\n\t\t\t\trouteLayer: null,\r\n\t\t\t\tusername: '',\r\n\t\t\t\tshowRoutePanel: false,\r\n\t\t\t\trouteMode: 'walking',\r\n\t\t\t\trouteBoxLeft: 0,\r\n\t\t\t\trouteBoxTop: 80,\r\n\t\t\t\tdragging: false,\r\n\t\t\t\tdragMode: '',\r\n\t\t\t\tdragStart: { x: 0, y: 0 },\r\n\t\t\t\tboxStart: { left: 0, top: 0 },\r\n\t\t\t\tstartSuggestions: [],\r\n\t\t\t\tendSuggestions: [],\r\n\t\t\t\tstartTimer: null,\r\n\t\t\t\tendTimer: null,\r\n\t\t\t\tstartBlurTimer: null,\r\n\t\t\t\tendBlurTimer: null,\r\n\t\t\t\tfocusedField: '',\r\n\t\t\t\tdropdownOpen: false,\r\n\t\t\t\tdropdownCloseTimer: null,\r\n\t\t\t\tshowSummaryPanel: false,\r\n\t\t\t\tsummaryCategories: [],\r\n\t\t\t\tselectedCategory: '',\r\n\t\t\t\tsummaryPoints: [],\r\n\t\t\t\t_allSummaryPoints: [],\r\n\t\t\t\tpointCardVisible: false,\r\n\t\t\t\tpointCard: null,\r\n\t\t\t\tpointCardLeft: 100,\r\n\t\t\t\tpointCardTop: 120,\r\n\t\t\t\tpcDragging: false,\r\n\t\t\t\tpcDragMode: '',\r\n\t\t\t\tpcDragStart: { x: 0, y: 0 },\r\n\t\t\t\tpcBoxStart: { left: 0, top: 0 },\r\n\t\t\t\tsummaryBoxLeft: 0,\r\n\t\t\t\tsummaryBoxTop: 80,\r\n\t\t\t\tsDragging: false,\r\n\t\t\t\tsDragMode: '',\r\n\t\t\t\tsDragStart: { x: 0, y: 0 },\r\n\t\t\t\tsBoxStart: { left: 0, top: 0 }\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst name = uni.getStorageSync('username');\r\n\t\t\tthis.username = name || '';\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// Ê£ÄÊü• TMap Â∫ìÊòØÂê¶Â∑≤Âä†ËΩΩ\r\n\t\t\tif (typeof TMap !== 'undefined') {\r\n\t\t\t\tthis.initMap();\r\n\t\t\t} else {\r\n\t\t\t\t// Â¶ÇÊûúÊú™Âä†ËΩΩÔºåËΩÆËØ¢Ê£ÄÊü•Áõ¥Âà∞Âä†ËΩΩÂÆåÊàê\r\n\t\t\t\tconst interval = setInterval(() => {\r\n\t\t\t\t\tif (typeof TMap !== 'undefined') {\r\n\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\tthis.initMap();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitMap() {\r\n\t\t\t\t// ÂàùÂßãÂåñÂú∞Âõæ‰∏≠ÂøÉÁÇπ (‰∫îÈÇëÂ§ßÂ≠¶ÈôÑËøë)\r\n\t\t\t\tconst center = new TMap.LatLng(22.596002,113.086019);\r\n\t\t\t\t\r\n\t\t\t\t// ÂÆö‰πâ‰∫îÈÇëÂ§ßÂ≠¶Âå∫ÂüüËæπÁïå (Â§ßÊ¶ÇËåÉÂõ¥)\r\n\t\t\t\t// Ë•øÂçóËßí: 22.5878, 113.0780\r\n\t\t\t\t// ‰∏úÂåóËßí: 22.6030, 113.0950\r\n\t\t\t\tconst boundary = new TMap.LatLngBounds(\r\n\t\t\t\t\tnew TMap.LatLng(22.581284,113.064394),\r\n\t\t\t\t\tnew TMap.LatLng(22.612047,113.108468)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tmapInst = new TMap.Map('container', {\r\n\t\t\t\t\tcenter: center,\r\n\t\t\t\t\tzoom: 16.2,\r\n\t\t\t\t\tboundary: boundary,\r\n\t\t\t\t\tbaseMap: { features: ['base', 'building3d'] }\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\t// ÂàõÂª∫‰∏™ÊÄßÂåñÂõæÂ±Ç\r\n\t\t\t\tTMap.ImageTileLayer.createCustomLayer({\r\n\t\t\t\t\tlayerId: '693674ac4012',\r\n\t\t\t\t\tmap: mapInst\r\n\t\t\t\t}).then((customLayer) => {\r\n\t\t\t\t\tconsole.log('‰∏™ÊÄßÂåñÂõæÂ±ÇÂàõÂª∫ÊàêÂäü');\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('‰∏™ÊÄßÂåñÂõæÂ±ÇÂä†ËΩΩÈîôËØØ:', err);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Ëµ∑ÁªàÁÇπÊ†áËÆ∞ÂõæÂ±Ç\r\n\t\t\t\tseMarkersInst = new TMap.MultiMarker({\r\n\t\t\t\t\tmap: mapInst,\r\n\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\tstart: new TMap.MarkerStyle({ width: 25, height: 35, anchor: { x: 16, y: 32 }, src: 'https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/start.png' }),\r\n\t\t\t\t\t\tend: new TMap.MarkerStyle({ width: 25, height: 35, anchor: { x: 16, y: 32 }, src: 'https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/end.png' })\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// Ëµ∑ÁªàÁÇπÊñáÂ≠óÊ†áÁ≠æÂõæÂ±Ç\r\n\t\t\t\tseLabelsInst = new TMap.MultiLabel({\r\n\t\t\t\t\tmap: mapInst,\r\n\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\tstartLabel: new TMap.LabelStyle({ color: '#2E7D32', size: 14, offset: { x: 0, y: -40 } }),\r\n\t\t\t\t\t\tendLabel: new TMap.LabelStyle({ color: '#1565C0', size: 14, offset: { x: 0, y: -40 } })\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// ÂàùÂßãÂåñÁÇπÊ†áËÆ∞\r\n\t\t\t\tmarkersInst = new TMap.MultiMarker({\r\n\t\t\t\t\tmap: mapInst\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\tconst geometries = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\t\tconst p = points[i];\r\n\t\t\t\t\t\t\tif (typeof p.x === 'number' && typeof p.y === 'number' && p.y >= -90 && p.y <= 90 && p.x >= -180 && p.x <= 180) {\r\n\t\t\t\t\t\t\t\tgeometries.push({\r\n\t\t\t\t\t\t\t\t\tid: String(p.id),\r\n\t\t\t\t\t\t\t\t\tposition: new TMap.LatLng(p.y, p.x),\r\n\t\t\t\t\t\t\t\t\tcontent: p.name\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmarkersInst.setGeometries(geometries);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({ title: 'Âú∞ÁÇπÂä†ËΩΩÂ§±Ë¥•', icon: 'none' });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tif (!this.keyword) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.results = [];\r\n\t\t\t\t\r\n\t\t\t\t// Ê£ÄÊü•ÊêúÁ¥¢ÊúçÂä°ÊòØÂê¶ÂèØÁî®\r\n\t\t\t\tif (typeof TMap.service !== 'undefined' && TMap.service.Search) {\r\n\t\t\t\t\tconst search = new TMap.service.Search({\r\n\t\t\t\t\t\tpageSize: 10\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ÊâßË°åÊêúÁ¥¢ (‰ºòÂÖàÊêúÁ¥¢ÂΩìÂâçÂüéÂ∏Ç)\r\n\t\t\t\t\tsearch.searchRegion({\r\n\t\t\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\t\t\tcityName: 'Ê±üÈó®Â∏Ç', // ‰øÆÊîπ‰∏∫Ê±üÈó®Â∏Ç‰ª•ÂåπÈÖç‰∫îÈÇëÂ§ßÂ≠¶\r\n\t\t\t\t\t}).then((result) => {\r\n\t\t\t\t\t\tthis.results = result.data;\r\n\t\t\t\t\t\tthis.displayMarkers(result.data);\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\tconsole.error('ÊêúÁ¥¢ÈîôËØØ:', error);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'ÊêúÁ¥¢Â§±Ë¥•',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('ÊêúÁ¥¢ÊúçÂä°‰∏çÂèØÁî®');\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ÊúçÂä°‰∏çÂèØÁî®',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearRoute() {\r\n\t\t\t\tif (routeLayerInst) { routeLayerInst.setGeometries([]); routeLayerInst.destroy(); routeLayerInst = null; }\r\n\t\t\t\tif (seMarkersInst) { seMarkersInst.setGeometries([]); }\r\n\t\t\t\tif (seLabelsInst) { seLabelsInst.setGeometries([]); }\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\tconst geometries = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\t\tconst p = points[i];\r\n\t\t\t\t\t\t\tif (typeof p.x === 'number' && typeof p.y === 'number' && p.y >= -90 && p.y <= 90 && p.x >= -180 && p.x <= 180) {\r\n\t\t\t\t\t\t\t\tgeometries.push({ id: String(p.id), position: new TMap.LatLng(p.y, p.x), content: p.name });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (markersInst) { markersInst.setGeometries(geometries); }\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => { uni.showToast({ title: 'Âú∞ÁÇπÂä†ËΩΩÂ§±Ë¥•', icon: 'none' }); }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclearStart() { this.startKeyword = ''; },\r\n\t\t\tclearEnd() { this.endKeyword = ''; },\r\n\t\t\tclosePanel() { this.showRoutePanel = false; this.clearRoute(); },\r\n\t\t\tchangeMode(mode) { this.routeMode = mode; if (this.endKeyword) { this.handleRoutePlan(); } },\r\n\t\t\tswapPoints() {\r\n\t\t\t\tconst s = this.startKeyword;\r\n\t\t\t\tthis.startKeyword = this.endKeyword;\r\n\t\t\t\tthis.endKeyword = s;\r\n\t\t\t\tif (seMarkersInst) { seMarkersInst.setGeometries([]); }\r\n\t\t\t\tif (this.endKeyword) { this.handleRoutePlan(); }\r\n\t\t\t},\r\n\t\t\tdisplayMarkers(data) {\r\n\t\t\t\t// Â∞ÜÊêúÁ¥¢ÁªìÊûúËΩ¨Êç¢‰∏∫Ê†áËÆ∞ÁÇπÊï∞ÊçÆ\r\n\t\t\t\tconst geometries = data.map((item) => ({\r\n\t\t\t\t\tid: String(item.id),\r\n\t\t\t\t\tposition: item.location,\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\ttitle: item.title\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\t\tmarkersInst.setGeometries(geometries);\r\n\t\t\t\t\r\n\t\t\t\t// Ëá™Âä®Ë∞ÉÊï¥Âú∞ÂõæËßÜÈáé‰ª•ÊòæÁ§∫ÊâÄÊúâÊ†áËÆ∞\r\n\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\tconst bounds = new TMap.LatLngBounds();\r\n\t\t\t\t\t\tdata.forEach(item => bounds.extend(item.location));\r\n\t\t\t\t\t\tmapInst.fitBounds(bounds);\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectLocation(item) {\r\n\t\t\t\t// ÁÇπÂáªÂàóË°®È°πÔºåÁßªÂä®Âú∞Âõæ‰∏≠ÂøÉÂà∞ËØ•‰ΩçÁΩÆ\r\n\t\t\t\tmapInst.setCenter(item.location);\r\n\t\t\t},\r\n\t\t\tstartNavigation(item) {\r\n\t\t\t\t// ‰ªéÊêúÁ¥¢ÁªìÊûúÂàáÊç¢Âà∞ÂØºËà™Ê®°ÂºèÔºåÂπ∂È¢ÑÂ°´ÁªàÁÇπ\r\n\t\t\t\tthis.endKeyword = item.title;\r\n\t\t\t\tthis.startKeyword = ''; // ÈªòËÆ§‰∏∫Á©∫Ôºå‰ª£Ë°®\"ÊàëÁöÑ‰ΩçÁΩÆ\"\r\n\t\t\t\t\r\n\t\t\t\t// Á´ãÂç≥Ëß¶ÂèëË∑ØÁ∫øËßÑÂàí\r\n\t\t\t\tthis.handleRoutePlan();\r\n\t\t\t},\r\n\t\t\tonLoginClick() {\r\n\t\t\t\t\t\tif (!this.username) {\r\n\t\t\t\t\t\t\tuni.navigateTo({ url: '/pages/login/login' });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonLoginMouseEnter() {\r\n\t\t\t\t\t\tif (this.dropdownCloseTimer) clearTimeout(this.dropdownCloseTimer);\r\n\t\t\t\t\t\tif (this.username) this.dropdownOpen = true;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonLoginMouseLeave() {\r\n\t\t\t\t\t\tif (this.dropdownCloseTimer) clearTimeout(this.dropdownCloseTimer);\r\n\t\t\t\t\t\tthis.dropdownCloseTimer = setTimeout(() => { this.dropdownOpen = false; }, 2000);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlogout() {\r\n\t\t\t\t\t\tif (this.dropdownCloseTimer) clearTimeout(this.dropdownCloseTimer);\r\n\t\t\t\t\t\tthis.dropdownOpen = false;\r\n\t\t\t\t\t\tuni.removeStorageSync('username');\r\n\t\t\t\t\t\tthis.username = '';\r\n\t\t\t\t\t\tuni.showToast({ title: 'Â∑≤ÈÄÄÂá∫', icon: 'none' });\r\n\t\t\t\t\t},\r\n\t\t\t\ttoSummary() {\r\n\t\t\t\t\tthis.showSummaryPanel = !this.showSummaryPanel;\r\n\t\t\t\t\tif (this.showSummaryPanel) {\r\n\t\t\t\t\t\tthis.fetchSummaryPoints();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loadAllMarkers();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfetchSummaryPoints() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\t\tthis._allSummaryPoints = points;\r\n\t\t\t\t\t\t\tconst seen = {}; const cats = [];\r\n\t\t\t\t\t\t\tfor (let i = 0; i < points.length; i++) { const c = points[i].category || 'ÂÖ∂‰ªñ'; if (!seen[c]) { seen[c] = 1; cats.push(c); } }\r\n\t\t\t\t\t\t\tthis.summaryCategories = cats;\r\n\t\t\t\t\t\t\tthis.selectedCategory = cats[0] || '';\r\n\t\t\t\t\t\t\tthis.summaryPoints = this.selectedCategory ? points.filter(p => (p.category || 'ÂÖ∂‰ªñ') === this.selectedCategory) : points;\r\n\t\t\t\t\t\t\tthis.applySummaryMarkers();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => { uni.showToast({ title: 'Âú∞ÁÇπÂä†ËΩΩÂ§±Ë¥•', icon: 'none' }); }\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tselectCategory(c) { this.selectedCategory = c; const list = (this._allSummaryPoints || []).filter(p => (p.category || 'ÂÖ∂‰ªñ') === c); this.summaryPoints = list; this.applySummaryMarkers(); },\r\n\t\t\t\tapplySummaryMarkers() {\r\n\t\t\t\t\tif (!markersInst) return;\r\n\t\t\t\t\tconst list = this.summaryPoints || [];\r\n\t\t\t\t\tconst geos = [];\r\n\t\t\t\t\tfor (let i = 0; i < list.length; i++) { const p = list[i]; if (typeof p.x === 'number' && typeof p.y === 'number') { geos.push({ id: String(p.id), position: new TMap.LatLng(p.y, p.x), styleId: 'poi', content: p.name }); } }\r\n\t\t\t\t\tmarkersInst.setGeometries(geos);\r\n\t\t\t\t},\r\n\t\t\t\tcloseSummary() { this.showSummaryPanel = false; this.loadAllMarkers(); },\r\n\t\t\t\topenPointCard(p) {\r\n\t\t\t\t\tthis.pointCard = p;\r\n\t\t\t\t\tthis.pointCardVisible = true;\r\n\t\t\t\t\tconst w = 560, h = 520;\r\n\t\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\t\tsuccess: (info) => {\r\n\t\t\t\t\t\t\tconst left = Math.max(10, Math.floor((info.windowWidth - w) / 2));\r\n\t\t\t\t\t\t\tconst top = Math.max(60, Math.floor((info.windowHeight - h) / 2));\r\n\t\t\t\t\t\t\tthis.pointCardLeft = left;\r\n\t\t\t\t\t\t\tthis.pointCardTop = top;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tclosePointCard() { this.pointCardVisible = false; this.pointCard = null; },\r\n\t\t\t\tstartNavToPoint() { if (!this.pointCard) return; this.endKeyword = this.pointCard.name || ''; this.pointCardVisible = false; this.showSummaryPanel = false; if (markersInst) { markersInst.setGeometries([]); } this.handleRoutePlan(); },\r\n\t\t\t\tsetAsEnd() { if (!this.pointCard) return; this.endKeyword = this.pointCard.name || ''; this.pointCardVisible = false; this.showSummaryPanel = false; if (markersInst) { markersInst.setGeometries([]); } },\r\n\t\t\t\tpreviewImage(src) { if (!src) return; const urls = Array.isArray(src) ? src : [src]; uni.previewImage({ current: urls[0], urls }); },\r\n\t\t\t\tonPointCardTouchStart(e) { const t = (e.touches && e.touches[0]) || null; this.pcDragging = true; this.pcDragMode = 'touch'; this.pcDragStart = t ? { x: t.clientX || t.pageX, y: t.clientY || t.pageY } : { x: 0, y: 0 }; this.pcBoxStart = { left: this.pointCardLeft, top: this.pointCardTop }; },\r\n\t\t\t\tonPointCardTouchMove(e) { if (!this.pcDragging || this.pcDragMode !== 'touch') return; const t = (e.touches && e.touches[0]) || null; if (!t) return; const dx = (t.clientX || t.pageX) - this.pcDragStart.x; const dy = (t.clientY || t.pageY) - this.pcDragStart.y; this.pointCardLeft = this.pcBoxStart.left + dx; this.pointCardTop = this.pcBoxStart.top + dy; },\r\n\t\t\t\tonPointCardTouchEnd() { this.pcDragging = false; this.pcDragMode = ''; },\r\n\t\t\t\tonPointCardMouseDown(e) { this.pcDragging = true; this.pcDragMode = 'mouse'; this.pcDragStart = { x: e.clientX, y: e.clientY }; this.pcBoxStart = { left: this.pointCardLeft, top: this.pointCardTop }; if (typeof document !== 'undefined') { document.addEventListener('mousemove', this.onPointCardMouseMove); document.addEventListener('mouseup', this.onPointCardMouseUp); } },\r\n\t\t\t\tonPointCardMouseMove(e) { if (!this.pcDragging || this.pcDragMode !== 'mouse') return; const dx = e.clientX - this.pcDragStart.x; const dy = e.clientY - this.pcDragStart.y; this.pointCardLeft = this.pcBoxStart.left + dx; this.pointCardTop = this.pcBoxStart.top + dy; },\r\n\t\t\t\tonPointCardMouseUp() { this.pcDragging = false; this.pcDragMode = ''; if (typeof document !== 'undefined') { document.removeEventListener('mousemove', this.onPointCardMouseMove); document.removeEventListener('mouseup', this.onPointCardMouseUp); } },\r\n\t\t\t\tonSummaryTouchStart(e) {\r\n\t\t\t\t\tconst t = (e.touches && e.touches[0]) || null;\r\n\t\t\t\t\tthis.sDragging = true;\r\n\t\t\t\t\tthis.sDragMode = 'touch';\r\n\t\t\t\t\tif (t) { this.sDragStart = { x: t.clientX || t.pageX, y: t.clientY || t.pageY }; } else { this.sDragStart = { x: 0, y: 0 }; }\r\n\t\t\t\t\tthis.sBoxStart = { left: this.summaryBoxLeft, top: this.summaryBoxTop };\r\n\t\t\t\t},\r\n\t\t\t\tonSummaryTouchMove(e) {\r\n\t\t\t\t\tif (!this.sDragging || this.sDragMode !== 'touch') return;\r\n\t\t\t\t\tconst t = (e.touches && e.touches[0]) || null;\r\n\t\t\t\t\tif (!t) return;\r\n\t\t\t\t\tconst dx = (t.clientX || t.pageX) - this.sDragStart.x;\r\n\t\t\t\t\tconst dy = (t.clientY || t.pageY) - this.sDragStart.y;\r\n\t\t\t\t\tthis.summaryBoxLeft = this.sBoxStart.left + dx;\r\n\t\t\t\t\tthis.summaryBoxTop = this.sBoxStart.top + dy;\r\n\t\t\t\t},\r\n\t\t\t\tonSummaryTouchEnd() {\r\n\t\t\t\t\tthis.sDragging = false;\r\n\t\t\t\t\tthis.sDragMode = '';\r\n\t\t\t\t},\r\n\t\t\t\tonSummaryMouseDown(e) {\r\n\t\t\t\t\tthis.sDragging = true;\r\n\t\t\t\t\tthis.sDragMode = 'mouse';\r\n\t\t\t\t\tthis.sDragStart = { x: e.clientX, y: e.clientY };\r\n\t\t\t\t\tthis.sBoxStart = { left: this.summaryBoxLeft, top: this.summaryBoxTop };\r\n\t\t\t\t\tif (typeof document !== 'undefined') {\r\n\t\t\t\t\t\tdocument.addEventListener('mousemove', this.onSummaryMouseMove);\r\n\t\t\t\t\t\tdocument.addEventListener('mouseup', this.onSummaryMouseUp);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonSummaryMouseMove(e) {\r\n\t\t\t\t\tif (!this.sDragging || this.sDragMode !== 'mouse') return;\r\n\t\t\t\t\tconst dx = e.clientX - this.sDragStart.x;\r\n\t\t\t\t\tconst dy = e.clientY - this.sDragStart.y;\r\n\t\t\t\t\tthis.summaryBoxLeft = this.sBoxStart.left + dx;\r\n\t\t\t\t\tthis.summaryBoxTop = this.sBoxStart.top + dy;\r\n\t\t\t\t},\r\n\t\t\t\tonSummaryMouseUp() {\r\n\t\t\t\t\tthis.sDragging = false;\r\n\t\t\t\t\tthis.sDragMode = '';\r\n\t\t\t\t\tif (typeof document !== 'undefined') {\r\n\t\t\t\t\t\tdocument.removeEventListener('mousemove', this.onSummaryMouseMove);\r\n\t\t\t\t\t\tdocument.removeEventListener('mouseup', this.onSummaryMouseUp);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tloadAllMarkers() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\t\tconst geometries = [];\r\n\t\t\t\t\t\t\tfor (let i = 0; i < points.length; i++) { const p = points[i]; if (typeof p.x === 'number' && typeof p.y === 'number') { geometries.push({ id: String(p.id), position: new TMap.LatLng(p.y, p.x), styleId: 'poi', content: p.name }); } }\r\n\t\t\t\t\t\t\tif (markersInst) { markersInst.setGeometries(geometries); }\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\ttoggleSearchPanel() {\r\n\t\t\t\t\tthis.showRoutePanel = !this.showRoutePanel;\r\n\t\t\t\t},\r\n\t\t\tasync handleRoutePlan() {\r\n\t\t\t\t\tuni.showLoading({ title: 'ÂáÜÂ§áË∑ØÁ∫ø‰∏≠...' });\r\n\t\t\t\t\tif (markersInst) { markersInst.setGeometries([]); }\r\n\t\t\t\t\tthis.results = [];\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 1. Ëß£ÊûêËµ∑ÁÇπ\r\n\t\t\t\t\tlet startLocation = null;\r\n\t\t\t\t\tif (!this.startKeyword || this.startKeyword.trim() === '' || this.startKeyword === 'ÊàëÁöÑ‰ΩçÁΩÆ') {\r\n\t\t\t\t\t\tstartLocation = await this.getCurrentLocation();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstartLocation = await this.getCoordsByKeyword(this.startKeyword);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 2. Ëß£ÊûêÁªàÁÇπ\r\n\t\t\t\t\tlet endLocation = null;\r\n\t\t\t\t\tif (!this.endKeyword) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({ title: 'ËØ∑ËæìÂÖ•ÁªàÁÇπ', icon: 'none' });\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tendLocation = await this.getCoordsByKeyword(this.endKeyword);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 3. ËßÑÂàíË∑ØÁ∫ø\r\n\t\t\t\t\tif (startLocation && endLocation) {\r\n\t\t\t\t\t\tthis.planRoute(startLocation, endLocation);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\tuni.showToast({ title: 'Âú∞ÂùÄËß£ÊûêÂ§±Ë¥•', icon: 'none' });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCurrentLocation() {\r\n\t\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\tisHighAccuracy: true,\r\n\t\t\t\t\t\thighAccuracyExpireTime: 5000,\r\n\t\t\t\t\t\ttimeout: 8000,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(new TMap.LatLng(res.latitude, res.longitude));\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tresolve(new TMap.LatLng(22.595546, 113.086064));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetCoordsByKeyword(keyword) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\t\tconst k = String(keyword).trim();\r\n\t\t\t\t\t\t\tlet p = points.find(it => it && typeof it.name === 'string' && it.name === k);\r\n\t\t\t\t\t\t\tif (!p) p = points.find(it => it && typeof it.name === 'string' && it.name.includes(k));\r\n\t\t\t\t\t\t\tif (p && typeof p.x === 'number' && typeof p.y === 'number') {\r\n\t\t\t\t\t\t\t\tresolve(new TMap.LatLng(p.y, p.x));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treject('Êú™ÊâæÂà∞ËØ•Âú∞ÁÇπ');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: reject\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync planRoute(start, end) {\r\n\t\t\t\t\tconst slat = start.getLat ? start.getLat() : start.lat;\r\n\t\t\t\t\tconst slng = start.getLng ? start.getLng() : start.lng;\r\n\t\t\t\t\tconst elat = end.getLat ? end.getLat() : end.lat;\r\n\t\t\t\t\tconst elng = end.getLng ? end.getLng() : end.lng;\r\n\t\t\t\t\tconst from = `${slat},${slng}`;\r\n\t\t\t\t\tconst to = `${elat},${elng}`;\r\n\t\t\t\t\tconst mode = this.routeMode || 'driving';\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `/qqmap/ws/direction/v1/${mode}`,\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tdata: { from, to, key: 'SWABZ-BCY64-WIHUL-KCDGA-OMFUV-JWFS5' },\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tconst route = res.data && res.data.result && res.data.result.routes && res.data.result.routes[0];\r\n\t\t\t\t\t\t\tif (!route || !route.polyline) { uni.showToast({ title: 'Êú™ÊâæÂà∞Ë∑ØÁ∫ø', icon: 'none' }); return; }\r\n\t\t\t\t\t\t\tconst pl = route.polyline.slice();\r\n\t\t\t\t\t\tfor (let i = 2; i < pl.length; i++) pl[i] = pl[i-2] + pl[i] / 1000000;\r\n\t\t\t\t\t\tconst path = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < pl.length; i += 2) path.push(new TMap.LatLng(pl[i], pl[i+1]));\r\n\t\t\t\t\t\tthis.drawRoute(path);\r\n\t\t\t\t\t\tseMarkersInst && seMarkersInst.setGeometries([\r\n\t\t\t\t\t\t\t{ id: 'start', styleId: 'start', position: new TMap.LatLng(slat, slng) },\r\n\t\t\t\t\t\t\t{ id: 'end', styleId: 'end', position: new TMap.LatLng(elat, elng) }\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t\tconst startName = (!this.startKeyword || this.startKeyword.trim() === '' || this.startKeyword === 'ÊàëÁöÑ‰ΩçÁΩÆ') ? 'ÊàëÁöÑ‰ΩçÁΩÆ' : this.startKeyword;\r\n\t\t\t\t\t\tconst endName = this.endKeyword;\r\n\t\t\t\t\t\tseLabelsInst && seLabelsInst.setGeometries([\r\n\t\t\t\t\t\t\t{ id: 'startLabel', styleId: 'startLabel', position: new TMap.LatLng(slat, slng), content: startName },\r\n\t\t\t\t\t\t\t{ id: 'endLabel', styleId: 'endLabel', position: new TMap.LatLng(elat, elng), content: endName }\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t\tconst bounds = new TMap.LatLngBounds();\r\n\t\t\t\t\t\tpath.forEach(pt => bounds.extend(pt));\r\n\t\t\t\t\t\tmapInst.fitBounds(bounds, { padding: 80 });\r\n\t\t\t\t\t\tthis.results = [];\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => { uni.hideLoading(); uni.showToast({ title: 'Ë∑ØÁ∫øËßÑÂàíÂ§±Ë¥•', icon: 'none' }); }\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\tdrawRoute(path) {\r\n\t\t\t\t\tif (routeLayerInst) {\r\n\t\t\t\t\t\trouteLayerInst.setGeometries([]);\r\n\t\t\t\t\t\trouteLayerInst.destroy();\r\n\t\t\t\t\t}\r\n\t\t\t\t\trouteLayerInst = new TMap.MultiPolyline({\r\n\t\t\t\t\t\tid: 'route-layer',\r\n\t\t\t\t\t\tmap: mapInst,\r\n\t\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\t\t'route': new TMap.PolylineStyle({ color: '#3777FF', width: 6, borderWidth: 2, borderColor: '#FFF', lineCap: 'round' })\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgeometries: [{ id: 'route', styleId: 'route', paths: path }]\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxTouchStart(e) {\r\n\t\t\t\t\tconst t = (e.touches && e.touches[0]) || null;\r\n\t\t\t\t\tthis.dragging = true;\r\n\t\t\t\t\tthis.dragMode = 'touch';\r\n\t\t\t\t\tif (t) { this.dragStart = { x: t.clientX || t.pageX, y: t.clientY || t.pageY }; } else { this.dragStart = { x: 0, y: 0 }; }\r\n\t\t\t\t\tthis.boxStart = { left: this.routeBoxLeft, top: this.routeBoxTop };\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxTouchMove(e) {\r\n\t\t\t\t\tif (!this.dragging || this.dragMode !== 'touch') return;\r\n\t\t\t\t\tconst t = (e.touches && e.touches[0]) || null;\r\n\t\t\t\t\tif (!t) return;\r\n\t\t\t\t\tconst dx = (t.clientX || t.pageX) - this.dragStart.x;\r\n\t\t\t\t\tconst dy = (t.clientY || t.pageY) - this.dragStart.y;\r\n\t\t\t\t\tthis.routeBoxLeft = this.boxStart.left + dx;\r\n\t\t\t\t\tthis.routeBoxTop = this.boxStart.top + dy;\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxTouchEnd() {\r\n\t\t\t\t\tthis.dragging = false;\r\n\t\t\t\t\tthis.dragMode = '';\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxMouseDown(e) {\r\n\t\t\t\t\tthis.dragging = true;\r\n\t\t\t\t\tthis.dragMode = 'mouse';\r\n\t\t\t\t\tthis.dragStart = { x: e.clientX, y: e.clientY };\r\n\t\t\t\t\tthis.boxStart = { left: this.routeBoxLeft, top: this.routeBoxTop };\r\n\t\t\t\t\tif (typeof document !== 'undefined') {\r\n\t\t\t\t\t\tdocument.addEventListener('mousemove', this.onRouteBoxMouseMove);\r\n\t\t\t\t\t\tdocument.addEventListener('mouseup', this.onRouteBoxMouseUp);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxMouseMove(e) {\r\n\t\t\t\t\tif (!this.dragging || this.dragMode !== 'mouse') return;\r\n\t\t\t\t\tconst dx = e.clientX - this.dragStart.x;\r\n\t\t\t\t\tconst dy = e.clientY - this.dragStart.y;\r\n\t\t\t\t\tthis.routeBoxLeft = this.boxStart.left + dx;\r\n\t\t\t\t\tthis.routeBoxTop = this.boxStart.top + dy;\r\n\t\t\t\t},\r\n\t\t\t\tonRouteBoxMouseUp() {\r\n\t\t\t\t\tthis.dragging = false;\r\n\t\t\t\t\tthis.dragMode = '';\r\n\t\t\t\t\tif (typeof document !== 'undefined') {\r\n\t\t\t\t\t\tdocument.removeEventListener('mousemove', this.onRouteBoxMouseMove);\r\n\t\t\t\t\t\tdocument.removeEventListener('mouseup', this.onRouteBoxMouseUp);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonStartInput(e) {\r\n\t\t\t\t\tthis.focusedField = 'start';\r\n\t\t\t\t\tconst v = e && e.detail ? e.detail.value : this.startKeyword;\r\n\t\t\t\t\tthis.startKeyword = v;\r\n\t\t\t\t\tif (this.startTimer) clearTimeout(this.startTimer);\r\n\t\t\t\t\tthis.startTimer = setTimeout(() => { this.fetchSuggestions('start', v); }, 200);\r\n\t\t\t\t},\r\n\t\t\t\tonEndInput(e) {\r\n\t\t\t\t\tthis.focusedField = 'end';\r\n\t\t\t\t\tconst v = e && e.detail ? e.detail.value : this.endKeyword;\r\n\t\t\t\t\tthis.endKeyword = v;\r\n\t\t\t\t\tif (this.endTimer) clearTimeout(this.endTimer);\r\n\t\t\t\t\tthis.endTimer = setTimeout(() => { this.fetchSuggestions('end', v); }, 200);\r\n\t\t\t\t},\r\n\t\t\t\tfetchSuggestions(field, keyword) {\r\n\t\t\t\t\tconst k = String(keyword || '').trim();\r\n\t\t\t\t\tif (!k) { this.startSuggestions = []; this.endSuggestions = []; return; }\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:8080/point/list',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconst points = (res.data && res.data.points) || [];\r\n\t\t\t\t\t\t\tconst list = points.filter(it => it && typeof it.name === 'string' && it.name.includes(k)).slice(0, 10).map(it => ({ id: String(it.id), name: it.name, x: it.x, y: it.y }));\r\n\t\t\t\t\t\t\tif (field === 'start') this.startSuggestions = list; else this.endSuggestions = list;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => { if (field === 'start') this.startSuggestions = []; else this.endSuggestions = []; }\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tselectStartSuggestion(s) {\r\n\t\t\t\t\tthis.startKeyword = s && s.name ? s.name : this.startKeyword;\r\n\t\t\t\t\tthis.startSuggestions = [];\r\n\t\t\t\t\tthis.focusedField = '';\r\n\t\t\t\t},\r\n\t\t\t\tselectEndSuggestion(s) {\r\n\t\t\t\t\tthis.endKeyword = s && s.name ? s.name : this.endKeyword;\r\n\t\t\t\t\tthis.endSuggestions = [];\r\n\t\t\t\t\tthis.focusedField = '';\r\n\t\t\t\t},\r\n\t\t\t\tonStartBlur() {\r\n\t\t\t\t\tif (this.startBlurTimer) clearTimeout(this.startBlurTimer);\r\n\t\t\t\t\tthis.startBlurTimer = setTimeout(() => {\r\n\t\t\t\t\t\tif (this.focusedField === 'start') { this.focusedField = ''; this.startSuggestions = []; }\r\n\t\t\t\t\t}, 150);\r\n\t\t\t\t},\r\n\t\t\t\tonEndBlur() {\r\n\t\t\t\t\tif (this.endBlurTimer) clearTimeout(this.endBlurTimer);\r\n\t\t\t\t\tthis.endBlurTimer = setTimeout(() => {\r\n\t\t\t\t\t\tif (this.focusedField === 'end') { this.focusedField = ''; this.endSuggestions = []; }\r\n\t\t\t\t\t}, 150);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// È°µÈù¢Âç∏ËΩΩÊó∂ÈîÄÊØÅÂú∞ÂõæÂÆû‰æãÔºåÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºè\r\n\t\t\tif (mapInst) {\r\n\t\t\t\tmapInst.destroy();\r\n\t\t\t\tmapInst = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #f8f8f8;\r\n\t}\r\n\r\n\t.top-panel {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t\tbackground: transparent;\r\n\t\tpadding: 0;\r\n\t\tbox-shadow: none;\r\n\t}\r\n\t.nav-bar {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin: 0;\r\n\t\t\tbackground: #8B0000;\r\n\t\t\tpadding: 20px 20px;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tcolor: #fff;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t.nav-center {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 10px;\r\n\t\tflex: 1;\r\n\t}\r\n\t.nav-right { display:flex; align-items:center; position:relative; margin-right: 32px; }\r\n\t.login-wrap { position:relative; }\r\n\t.login-dropdown { position:absolute; top:calc(100% + 6px); right:0; background:#fff; border:1px solid #eee; border-radius:6px; box-shadow:0 6px 16px rgba(0,0,0,0.12); z-index:1000; min-width:120px; }\r\n\t.login-dropdown .dropdown-item { padding:8px 12px; color:#333; }\r\n\t.login-dropdown .dropdown-item:hover { background:#f5f7fa; }\r\n\t.nav-left {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.logo {\r\n\t\theight: 40px;\r\n\t\twidth: auto;\r\n\t}\r\n\t.link {\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 14px;\r\n\t\tpadding: 0 12px;\r\n\t\tline-height: 40px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.link:hover { opacity: 0.85; }\r\n\t.login-btn {\r\n\t\tbackground-color: #34c759;\r\n\t}\r\n\t\r\n\t.search-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\tborder: 1px solid #eee;\r\n\t\tpadding: 0 12px;\r\n\t\tmargin-right: 10px;\r\n\t\tborder-radius: 20px;\r\n\t\theight: 36px;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t\r\n\t.btn {\r\n\t\theight: 36px;\r\n\t\tline-height: 36px;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 18px;\r\n\t\tpadding: 0 20px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.tab-header {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 12px;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t.tab-item {\r\n\t\tpadding: 6px 24px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t\tborder-radius: 20px;\r\n\t\tbackground: #f5f5f5;\r\n\t\tmargin: 0 10px;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\t\r\n\t.tab-item.active {\r\n\t\tbackground: #007aff;\r\n\t\tcolor: #fff;\r\n\t\tbox-shadow: 0 2px 6px rgba(0,122,255,0.3);\r\n\t}\r\n\r\n\t.map-container {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: 1; /* Ensure map is behind the top panel */\r\n\t}\r\n\r\n\t.result-list {\r\n\t\tposition: absolute;\r\n\t\ttop: 10px;\r\n\t\tleft: 10px;\r\n\t\tright: 10px;\r\n\t\tbackground: #fff;\r\n\t\tmax-height: 40vh;\r\n\t\toverflow-y: auto;\r\n\t\tz-index: 200;\r\n\t\tbox-shadow: 0 4px 15px rgba(0,0,0,0.1);\r\n\t\tborder-radius: 8px;\r\n\t}\r\n\t\r\n\t/* Route Mode Styles */\r\n\t\t.route-box {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 300px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding: 0px;\r\n\t\t\tbackground: rgba(255,255,255,0.96);\r\n\t\t\tborder-radius: 10px;\r\n\t\t\tbox-shadow: 0 6px 20px rgba(0,0,0,0.12);\r\n\t\t\tbackdrop-filter: saturate(180%) blur(4px);\r\n\t\t\tz-index: 998;\r\n\t\t\tuser-select: none;\r\n\t\t\tcursor: move;\r\n\t\t}\r\n\t\r\n\t.input-row {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10px;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 4px 8px;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tline-height: 24px;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 4px;\r\n\t\tmargin-right: 10px;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.label.start {\r\n\t\tbackground: #34c759;\r\n\t}\r\n\t\r\n\t.label.end {\r\n\t\tbackground: #ff3b30;\r\n\t}\r\n\t\r\n\t.route-title { display:flex; align-items:center; justify-content:space-between; background:#0D6EFD; color:#fff; font-size:16px; font-weight:600; padding:10px 12px; border-radius:6px; }\r\n\t\t.route-close { font-size:18px; padding:0 6px; cursor:pointer; }\r\n\t\t.route-tabs { display:flex; gap:20px; padding:12px 12px; border-bottom:1px solid #eee; }\r\n\t\t.tab { color:#666; padding:6px 0; border-bottom:2px solid transparent; }\r\n\t\t.tab.active { color:#0D6EFD; border-bottom-color:#0D6EFD; }\r\n\t\t.route-rows { display:flex; gap:10px; padding:12px; }\r\n\t\t.rows-col { flex:1; display:flex; flex-direction:column; gap:10px; }\r\n\t\t.swap-col { display:flex; flex-direction:row; align-items:center; justify-content:center; gap:10px; padding:8px 10px; background:#f6f6f6; border-radius:6px; cursor:pointer; }\r\n\t\t.arrow { color:#0D6EFD; font-weight:600; font-size:20px; line-height:20px; }\r\n\t\t.route-row { display:flex; align-items:center; gap:8px; padding:8px 10px; border-bottom:1px solid #eee; position: relative; overflow: visible; }\r\n\t\t.dot { width:8px; height:8px; border-radius:50%; display:inline-block; }\r\n\t\t.green { background:#34c759; }\r\n\t\t.blue { background:#0D6EFD; }\r\n\t\t.scope { color:#0D6EFD; font-size:12px; }\r\n\t\t.route-input { flex:1; height:36px; border:1px solid #eee; border-radius:20px; padding:0 12px; background:#fff; }\r\n\t\t.row-clear { color:#999; cursor:pointer; padding:0 6px; }\r\n\t\t.route-actions { display:flex; gap:12px; padding:12px; }\r\n\t\t.primary { flex:1; background:#0D6EFD; color:#fff; border-radius:6px; height:40px; line-height:40px; }\r\n\t\t.outline { flex:1; background:#fff; color:#0D6EFD; border:1px solid #0D6EFD; border-radius:6px; height:40px; line-height:40px; }\r\n\t\t\t\t.suggest-list { position:absolute; top:calc(100% + 6px); left:40px; right:10px; background:#fff; border:1px solid #eee; border-radius:6px; box-shadow:0 6px 16px rgba(0,0,0,0.12); max-height:220px; overflow-y:auto; z-index: 1000; }\r\n\t\t\t\t.suggest-item { display:flex; align-items:center; gap:8px; padding:8px 10px; border-bottom:1px solid #f4f4f4; }\r\n\t\t\t\t.suggest-item:last-child { border-bottom:none; }\r\n\t\t\t\t.suggest-icon { color:#0D6EFD; }\r\n\t\t\t\t.suggest-title { font-size:14px; color:#333; }\r\n\t\t\t\t.summary-box { position:absolute; width:500px; height:500px; background: rgba(255,255,255,0.96); border-radius:10px; box-shadow: 0 6px 20px rgba(0,0,0,0.12); z-index:998; user-select:none; cursor:move; overflow:hidden; display:flex; flex-direction:column; }\r\n\t\t\t\t.summary-title { display:flex; align-items:center; justify-content:space-between; background:#0D6EFD; color:#fff; font-size:16px; font-weight:600; padding:10px 12px; border-radius:6px; }\r\n\t\t\t\t.summary-tabs { display:flex; flex-wrap:wrap; gap:8px; padding:12px; }\r\n\t\t\t\t.summary-tabs .tab { padding:6px 10px; background:#f6f6f6; border-radius:6px; color:#666; }\r\n\t\t\t\t.summary-tabs .tab.active { background:#0D6EFD; color:#fff; }\r\n\t\t\t\t.summary-scroll { width:100%; box-sizing:border-box; height:calc(100% - 120px); overflow-y:auto; padding:8px 12px; display:flex; justify-content:center; }\r\n\t\t\t\t.summary-grid { display:grid; grid-template-columns: repeat(3, 140px); gap: 12px; justify-content: center; }\r\n\t\t\t\t.grid-item { box-sizing:border-box; display:flex; flex-direction:column; align-items:center; }\r\n\t\t\t\t.grid-img { display:block; width:100%; aspect-ratio: 1 / 1; height:auto; margin:0 auto; border-radius:8px; background:#f9f9f9; object-fit:contain; }\r\n\t\t\t\t.grid-name { margin-top:6px; font-size:12px; color:#333; text-align:center; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }\r\n\t\t\t\t.point-card { position:absolute; width:560px; max-width:95vw; background:#fff; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,0.16); z-index:999; overflow:hidden; user-select:none; cursor:move; }\r\n\t\t\t\t.point-card-title { display:flex; align-items:center; justify-content:space-between; background:#0D6EFD; color:#fff; font-size:16px; font-weight:600; padding:10px 12px; }\r\n\t\t\t\t.point-card-img { display:block; width:100%; height:320px; object-fit:contain; background:#f7f7f7; }\r\n\t\t\t\t.point-card-desc { padding:12px; color:#555; font-size:13px; line-height:1.6; }\r\n\t\t\t\t.point-card-actions { display:flex; gap:12px; padding:12px; }\r\n\r\n\r\n\t.result-item {\r\n\t\tpadding: 12px;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.item-info {\r\n\t\tflex: 1;\r\n\t}\r\n\t\r\n\t.nav-btn {\r\n\t\tmargin-left: 10px;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: #4cd964;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 0 15px;\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tborder-radius: 15px;\r\n\t}\r\n\t\r\n\t.result-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.item-title {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 14px;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 4px;\r\n\t}\r\n\r\n\t.item-address {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/study/wyu_navigator/uni-app/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}